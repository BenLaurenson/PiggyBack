# =============================================================================
# PiggyBack Environment Variables
# Copy this file to .env.local and fill in your values
# =============================================================================

# --- Required: Supabase ---
# Get these from your Supabase project dashboard > Settings > API
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# Service role key — required for webhooks and cron jobs
# Get from Supabase dashboard > Settings > API > service_role (secret)
# WARNING: Never expose this in client-side code
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# --- Required: Encryption ---
# AES-256-GCM encryption key for storing Up Bank API tokens and AI API keys securely
# Must be exactly 64 hex characters (32 bytes). Generate one with:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
UP_API_ENCRYPTION_KEY=your_64_hex_character_encryption_key

# --- Required for self-hosted / Recommended for all: App URL ---
# Your deployed URL — used for auth email redirects and Up Bank webhook registration
# On Vercel this falls back to VERCEL_URL automatically, but setting this explicitly is safer
NEXT_PUBLIC_APP_URL=https://your-app.vercel.app
#
# IMPORTANT: You must also configure these in your Supabase dashboard:
#   Authentication > URL Configuration:
#   - Site URL: https://your-app.vercel.app (or http://localhost:3000 for local)
#   - Redirect URLs (add both):
#     https://your-app.vercel.app/auth/callback
#     https://your-app.vercel.app/update-password

# --- Optional: Cron Jobs ---
# Secret token to authorize the daily notification cron job
# Generate one with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# CRON_SECRET=your_cron_secret

# --- Optional: Skip Landing Page ---
# Redirects authenticated users from / directly to /home
# Useful for personal deployments where you don't need the marketing page
# NEXT_PUBLIC_SKIP_LANDING=true

# --- Optional: AI Assistant ---
# No server-side API keys needed — users add their own in Settings > AI
# Supports: Google Gemini, OpenAI, Anthropic

# --- Price APIs ---
# Stock/ETF prices: Yahoo Finance (free, no key required)
# Crypto prices: CoinGecko (free, no key required)
